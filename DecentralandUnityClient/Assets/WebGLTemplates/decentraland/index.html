<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Decentraland</title>
    <script src="%UNITY_WEBGL_LOADER_URL%"></script>
    <script>
        function initializeDecentraland() {
            /*! Decentraland Gamekit 1.0.0-20181023212049.commit-f3f9ac8 */!function (e, t) { if ("object" == typeof exports && "object" == typeof module) module.exports = t(); else if ("function" == typeof define && define.amd) define([], t); else { var n = t(); for (var i in n) ("object" == typeof exports ? exports : e)[i] = n[i] } }(window, function () { return function (n) { var i = {}; function r(e) { if (i[e]) return i[e].exports; var t = i[e] = { i: e, l: !1, exports: {} }; return n[e].call(t.exports, t, t.exports, r), t.l = !0, t.exports } return r.m = n, r.c = i, r.d = function (e, t, n) { r.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: n }) }, r.r = function (e) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, r.t = function (t, e) { if (1 & e && (t = r(t)), 8 & e) return t; if (4 & e && "object" == typeof t && t && t.__esModule) return t; var n = Object.create(null); if (r.r(n), Object.defineProperty(n, "default", { enumerable: !0, value: t }), 2 & e && "string" != typeof t) for (var i in t) r.d(n, i, function (e) { return t[e] }.bind(null, i)); return n }, r.n = function (e) { var t = e && e.__esModule ? function () { return e.default } : function () { return e }; return r.d(t, "a", t), t }, r.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, r.p = "", r(r.s = 8) }([function (e, p, t) { "use strict"; var n = this && this.__decorate || function (e, t, n, i) { var r, o = arguments.length, s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i; if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i); else for (var a = e.length - 1; 0 <= a; a--)(r = e[a]) && (s = (o < 3 ? r(s) : 3 < o ? r(t, n, s) : r(t, n)) || s); return 3 < o && s && Object.defineProperty(t, n, s), s }, i = this && this.__metadata || function (e, t) { if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(e, t) }; Object.defineProperty(p, "__esModule", { value: !0 }); var r = t(2), o = t(1), s = t(3), a = t(4); p.log = function (e) { console.log("DEBUG:", e) }; var c = function () { function e(e) { this.data = e, console.log("Engine event", e) } return n([a.EventConstructor("engineEvent"), i("design:paramtypes", [Object])], e) }(); p.EngineEvent = c; var u = function () { function e() { this.eventManager = new a.EventManager, this.rootEntity = new r.Entity(null, "scene"), this.entities = {}, this.entityLists = {}, this.systems = [], this.idGenerator = 1, this.allRequirements = {}, this.simpleSystems = [], this.rootEntity.engineId = "0", this.eventManager.addListener(r.ComponentAdded, this, this.componentAdded), this.eventManager.addListener(r.ComponentRemoved, this, this.componentRemoved) } return e.prototype.addEntity = function (e) { if (e.engineId) p.log("The entity is already in the engine. Please fix this"); else { var t = (this.idGenerator++).toString(10); e.engineId = t, e.eventManager = this.eventManager, e.parent ? null === e.parent.engineId && p.log("Engine: warning, added a entity with a parent not present in the engine") : e.parent = this.rootEntity, this.entities[t] = e, this.checkRequirementsAndAdd(e), e.alive = !0 } }, e.prototype.removeEntity = function (e, t, n) { void 0 === t && (t = !1); var i = e.engineId; if (null !== i && this.entities[i]) { for (var r in e.components) { var o = this.allRequirements[r]; if (o) for (var s in o) o[s].removeEntity(e); delete this.entityLists[r][i] } for (var a = 0; a < this.simpleSystems.length; a++) { var c = this.simpleSystems[a]; c.hasEntity(e) && c.removeEntity(e) } if (t) for (var a in e.children) (u = e.children[a]) && this.removeEntity(u, !0); else for (var a in e.children) { var u; (u = e.children[a]) && (u.parent = n || this.rootEntity) } e.alive = !1, e.eventManager = null, e.engineId = null, delete this.entities[i] } else for (var r in p.log("Engine: Trying to remove non existent entity from engine."), i ? p.log("Engine: Entity id: " + i) : p.log("Engine: Entity has not been added to any engine yet. (No entity.engineId)"), p.log("Engine: Entity's components:"), e.components) p.log(r) }, e.prototype.addSystem = function (e) { if (-1 === this.systems.indexOf(e)) for (var t in this.systems.push(e), e.active = !0, this.registerSystem(e), this.entities) this.checkRequirements(this.entities[t], e); else p.log("Engine: Trying to add a system that is already added. Aborting") }, e.prototype.update = function (e) { for (var t in this.systems) (n = this.systems[t]).active && n.update && n.update(e); for (var t in this.systems) { var n; (n = this.systems[t]).active && n.draw && n.draw() } }, e.prototype.getEntitiesWithComponent = function (e) { var t = "string" == typeof e ? e : o.getComponentName(e); return t in this.entityLists ? this.entityLists[t] : this.entityLists[t] = {} }, e.prototype.registerSystem = function (e) { if (e.active = !0, e.activate && e.activate(this), e instanceof s.ComponentSystem) for (var t = e.requiresNames, n = 0; n < t.length; n++) { var i = t[n], r = this.allRequirements[i]; r || (this.allRequirements[i] = r = []), -1 === r.indexOf(e) && r.push(e) } else this.simpleSystems.push(e) }, e.prototype.checkRequirementsAndAdd = function (e) { if (null !== e.engineId) { for (var t in e.components) { t in this.entityLists || (this.entityLists[t] = {}), this.entityLists[t][e.engineId] = e; var n = this.allRequirements[t]; if (n) for (var i in n) this.checkRequirements(e, n[i]) } for (var r = 0; r < this.simpleSystems.length; r++)this.checkRequirements(e, this.simpleSystems[r]) } }, e.prototype.checkRequirements = function (e, t) { t.meetsRequirements(e) ? t.hasEntity(e) || t.addEntity(e) : t.hasEntity(e) && t.removeEntity(e) }, e.prototype.componentAdded = function (e) { var t, n = e.entity, i = e.componentName; if (null !== n.engineId) { this.entityLists[i] ? this.entityLists[i][n.engineId] = n : this.entityLists[i] = ((t = {})[n.engineId] = n, t); var r = this.allRequirements[i]; if (r) for (var o in r) this.checkRequirements(n, r[o]) } }, e.prototype.componentRemoved = function (e) { var t = e.entity, n = e.componentName; if (null !== t.engineId) { delete this.entityLists[n][t.engineId]; var i = this.allRequirements[n]; if (i) for (var r in i) this.checkRequirements(t, i[r]) } }, e }(); p.Engine = u }, function (e, t, n) { "use strict"; var i = this && this.__read || function (e, t) { var n = "function" == typeof Symbol && e[Symbol.iterator]; if (!n) return e; var i, r, o = n.call(e), s = []; try { for (; (void 0 === t || 0 < t--) && !(i = o.next()).done;)s.push(i.value) } catch (e) { r = { error: e } } finally { try { i && !i.done && (n = o.return) && n.call(o) } finally { if (r) throw r.error } } return s }, r = this && this.__spread || function () { for (var e = [], t = 0; t < arguments.length; t++)e = e.concat(i(arguments[t])); return e }; Object.defineProperty(t, "__esModule", { value: !0 }); var o = "__name__symbol_"; t.Component = function (i) { return function (e) { if (e.isComponent) throw new TypeError("You cannot extend a component. Trying to extend " + e.originalClassName + " with: " + i); var t = e, n = function () { var e = new (t.bind.apply(t, r([void 0], arguments))); return Object.defineProperty(e, o, { enumerable: !1, writable: !1, configurable: !1, value: i }), e }; return n[o] = i, n.isComponent = !0, n.originalClassName = i, n } }, t.getComponentName = function (e) { if (!e) throw new TypeError(e + " is not a component."); if (e[o]) return e[o]; throw new TypeError(e + " is not a registered component.") }; var s = function () { function e() { this.dirty = !1, this.data = {} } return e.field = function (e, t) { delete e[t] && Object.defineProperty(e, t.toString(), { get: function () { return this.data[t] }, set: function (e) { e !== this.data[t] && (this.dirty = !0, this.data[t] = e) }, enumerable: !0 }) }, e.readonly = function (e, t) { delete e[t] && Object.defineProperty(e, t.toString(), { get: function () { if (t in this.data == 0) throw new Error("The field " + t + " is uninitialized"); return this.data[t] }, set: function (e) { if (t in this.data) throw new Error("The field " + t + " is readonly"); this.data[t] = e }, enumerable: !0, configurable: !1 }) }, e.prototype.toJSON = function () { return this.data }, e }(); t.ProxyComponent = s }, function (e, t, n) { "use strict"; var i = this && this.__decorate || function (e, t, n, i) { var r, o = arguments.length, s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i; if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i); else for (var a = e.length - 1; 0 <= a; a--)(r = e[a]) && (s = (o < 3 ? r(s) : 3 < o ? r(t, n, s) : r(t, n)) || s); return 3 < o && s && Object.defineProperty(t, n, s), s }, r = this && this.__metadata || function (e, t) { if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(e, t) }; Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(1), s = n(0), a = n(4); function c() { return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (e) { var t = 16 * Math.random() | 0; return ("x" === e ? t : 3 & t | 8).toString(16) }) } t.uuid = c; var u = function () { function e(e, t) { this.entity = e, this.componentName = t } return i([a.EventConstructor("dcl-component-removed"), r("design:paramtypes", [f, String])], e) }(); t.ComponentRemoved = u; var p = function () { function e(e, t) { this.entity = e, this.componentName = t } return i([a.EventConstructor("dcl-component-added"), r("design:paramtypes", [f, String])], e) }(); t.ComponentAdded = p; var f = function () { function e(e, t) { void 0 === e && (e = null), this.name = t, this.children = {}, this.eventManager = null, this.alive = !1, this.uuid = c(), this.components = {}, this._parent = null, this._engineId = null, this.parent = e } return Object.defineProperty(e.prototype, "engineId", { get: function () { return this._engineId }, set: function (e) { if (e !== this._engineId) if (null !== e && null === this._engineId) this._engineId = e; else { if (null !== e || null === this._engineId) throw new Error("Entity#setEngineId: Cannot change the engineId on the fly. The entity must be removed from the engine first."); this.parent = null, this._engineId = null } }, enumerable: !0, configurable: !0 }), Object.defineProperty(e.prototype, "parent", { get: function () { return this._parent }, set: function (e) { this.parent && null !== this.engineId && delete this.parent.children[this.engineId], this._parent = e || null, this.registerAsChild() }, enumerable: !0, configurable: !0 }), e.prototype.set = function (e) { var t = o.getComponentName(e); this.components[t] ? this.components[t] = e : this.add(e) }, e.prototype.has = function (e) { var t = o.getComponentName(e); return !!this.components[t] }, e.prototype.get = function (e) { var t = "string" == typeof e ? e : o.getComponentName(e); if (!this.components[t]) throw new Error("Entity has no component " + t); return this.components[t] }, e.prototype.getOrNull = function (e) { var t = "string" == typeof e ? e : o.getComponentName(e); return this.components[t] || null }, e.prototype.add = function (e) { var t = o.getComponentName(e); if (this.components[t]) throw new Error('There is already a component of type "' + t + '" in this entity.'); this.components[t] = e, this.eventManager && this.eventManager.fireEvent(new p(this, t)) }, e.prototype.addOrReplace = function (e) { var t = o.getComponentName(e); this.components[t] = e, this.eventManager && this.eventManager.fireEvent(new p(this, t)) }, e.prototype.remove = function (e) { var t = o.getComponentName(e); this.components[t] ? delete this.components[t] : s.log("Entity: Trying to remove unexisting component " + t + " please fix this"), this.eventManager && this.eventManager.fireEvent(new u(this, t)) }, e.prototype.registerAsChild = function () { this.engineId && this.parent && (this.parent.children[this.engineId] = this) }, e }(); t.Entity = f }, function (e, t, n) { "use strict"; var i, r = this && this.__extends || (i = function (e, t) { return (i = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (e, t) { e.__proto__ = t } || function (e, t) { for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]) })(e, t) }, function (e, t) { function n() { this.constructor = e } i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n) }); Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(1), s = function () { function e() { this.entities = {}, this.active = !1 } return e.prototype.hasEntity = function (e) { return !!e.engineId && !!this.entities[e.engineId] }, e.prototype.addEntity = function (e) { if (!e.engineId) throw new TypeError("System: Cannot add a entity that is not added to the engine"); var t = !!this.entities[e.engineId]; this.entities[e.engineId] = e, !t && this.onAddEntity && this.onAddEntity(e) }, e.prototype.removeEntity = function (e) { var t = e.engineId, n = !1; if (t) n = delete this.entities[t]; else for (var i in this.entities) this.entities[i] === e && (n = !0, delete this.entities[i]); n && this.onRemoveEntity && this.onRemoveEntity(e) }, e.prototype.meetsRequirements = function (e) { return !0 }, e }(), a = function (n) { function e() { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; var i = n.call(this) || this; if (i._requires = [], i._requiresNames = [], !i.requires) throw new Error("ComponentSystem: Could not load the requires list"); if (!(i.requires instanceof Array)) throw new Error("ComponentSystem: requires list is not an Array"); return i._requires = e, i._requires.forEach(function (e, t) { var n = null; if (!e) throw new Error("ComponentSystem: the required component at location " + t + " is invalid"); try { n = o.getComponentName(e) } catch (e) { throw new Error("ComponentSystem: the required component at location " + t + " is not registered. Remember to pass the class of the component, not the name") } if (i._requiresNames.some(function (e) { return e === n })) throw new Error("ComponentSystem: the required component list has a repeated name " + n); i._requiresNames.push(n) }), i } return r(e, n), Object.defineProperty(e.prototype, "requiresNames", { get: function () { return this._requiresNames.slice() }, enumerable: !0, configurable: !0 }), Object.defineProperty(e.prototype, "requires", { get: function () { return this._requires.slice() }, enumerable: !0, configurable: !0 }), e.prototype.componentRemoved = function (e, t) { -1 !== this._requiresNames.indexOf(t) && this.removeEntity(e) }, e.prototype.meetsRequirements = function (e) { for (var t = 0; t < this._requiresNames.length; t++)if (!(this._requiresNames[t] in e.components)) return !1; return !0 }, e }(t.System = s); t.ComponentSystem = a }, function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(0), i = "__event_name__", r = []; function s(e) { if (!(i in e) || "string" != typeof e[i]) throw new Error("The EventConstructor is not registered"); return e[i] } var a = function () { function e() { this.listeners = {} } return e.prototype.addListener = function (e, t, n) { if (!e || "function" != typeof e) throw new Error("Invalid EventConstructor"); var i = s(e), r = this.listeners[i]; r || (r = this.listeners[i] = []); for (var o = 0; o < r.length; o++)if (r[o].listener === t) throw new Error("The provided listener is already registered"); r.push({ listener: t, fn: n }) }, e.prototype.removeListener = function (e, t) { if (!t || "function" != typeof t) throw new Error("Invalid EventConstructor"); var n = s(t), i = this.listeners[n]; if (!i) return !1; for (var r = 0; r < i.length; r++)if (i[r].listener === e) return i.splice(r, 1), !0; return !1 }, e.prototype.fireEvent = function (e) { var t = s(e.constructor), n = this.listeners[t]; if (n) for (var i = 0; i < n.length; i++)try { var r = n[i]; r.fn.call(r.listener, e) } catch (e) { o.log(e) } }, e }(); t.EventManager = a, t.EventConstructor = function (t) { if (!t || "string" != typeof t) throw new Error("Invalid event name " + t); if (-1 !== r.indexOf(t)) throw new Error("The event name " + t + " is already taken"); return r.push(t), function (e) { return e[i] = t, e } } }, function (e, t, n) { "use strict"; var i = this && this.__decorate || function (e, t, n, i) { var r, o = arguments.length, s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i; if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i); else for (var a = e.length - 1; 0 <= a; a--)(r = e[a]) && (s = (o < 3 ? r(s) : 3 < o ? r(t, n, s) : r(t, n)) || s); return 3 < o && s && Object.defineProperty(t, n, s), s }; Object.defineProperty(t, "__esModule", { value: !0 }); var r = n(4), o = function () { function e() { } return i([r.EventConstructor("uuidEvent")], e) }(); t.UUIDEvent = o }, function (e, t, n) { "use strict"; var i, o = this && this.__extends || (i = function (e, t) { return (i = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (e, t) { e.__proto__ = t } || function (e, t) { for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]) })(e, t) }, function (e, t) { function n() { this.constructor = e } i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n) }), s = this && this.__decorate || function (e, t, n, i) { var r, o = arguments.length, s = o < 3 ? t : null === i ? i = Object.getOwnPropertyDescriptor(t, n) : i; if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(e, t, n, i); else for (var a = e.length - 1; 0 <= a; a--)(r = e[a]) && (s = (o < 3 ? r(s) : 3 < o ? r(t, n, s) : r(t, n)) || s); return 3 < o && s && Object.defineProperty(t, n, s), s }, a = this && this.__metadata || function (e, t) { if ("object" == typeof Reflect && "function" == typeof Reflect.metadata) return Reflect.metadata(e, t) }; Object.defineProperty(t, "__esModule", { value: !0 }); var c = n(1), r = n(2), u = function (r) { function e(e, t, n) { void 0 === e && (e = 0), void 0 === t && (t = 0), void 0 === n && (n = 0); var i = r.call(this) || this; return i.x = 0, i.y = 0, i.z = 0, i.x = e, i.y = t, i.z = n, i } return o(e, r), s([c.ProxyComponent.field, a("design:type", Number)], e.prototype, "x", void 0), s([c.ProxyComponent.field, a("design:type", Number)], e.prototype, "y", void 0), s([c.ProxyComponent.field, a("design:type", Number)], e.prototype, "z", void 0), e }(c.ProxyComponent), p = function (e) { function t() { return null !== e && e.apply(this, arguments) || this } return o(t, e), s([c.Component("engine.position")], t) }(t.Vector = u); t.Position = p; var f = function (e) { function t() { return null !== e && e.apply(this, arguments) || this } return o(t, e), s([c.Component("engine.rotation")], t) }(u); t.Rotation = f; var d = function (e) { function t() { return null !== e && e.apply(this, arguments) || this } return o(t, e), s([c.Component("engine.scale")], t) }(u); t.Scale = d; var l = function (e) { function t() { return null !== e && e.apply(this, arguments) || this } return o(t, e), t }(c.ProxyComponent), h = function (t) { function e() { var e = null !== t && t.apply(this, arguments) || this; return e.tag = "box", e } return o(e, t), s([c.ProxyComponent.readonly, a("design:type", String)], e.prototype, "tag", void 0), s([c.Component("engine.shape")], e) }(t.Shape = l); t.BoxShape = h; var y = function (t) { function e() { var e = null !== t && t.apply(this, arguments) || this; return e.tag = "sphere", e } return o(e, t), s([c.ProxyComponent.readonly, a("design:type", String)], e.prototype, "tag", void 0), s([c.Component("engine.shape")], e) }(l); t.SphereShape = y; var m = function (t) { function e() { var e = null !== t && t.apply(this, arguments) || this; return e.tag = "plane", e } return o(e, t), s([c.ProxyComponent.readonly, a("design:type", String)], e.prototype, "tag", void 0), s([c.Component("engine.shape")], e) }(l); t.PlaneShape = m; var v = function (n) { function e(e) { var t = n.call(this) || this; return t.tag = "gltf-model", t.src = e, t } return o(e, n), s([c.ProxyComponent.readonly, a("design:type", String)], e.prototype, "tag", void 0), s([l.readonly, a("design:type", String)], e.prototype, "src", void 0), s([c.Component("engine.shape"), a("design:paramtypes", [String])], e) }(l); t.GLTFShape = v; var g = function (n) { function e(e) { var t = n.call(this) || this; return t.tag = "obj-model", t.src = e, t } return o(e, n), s([c.ProxyComponent.readonly, a("design:type", String)], e.prototype, "tag", void 0), s([c.ProxyComponent.readonly, a("design:type", String)], e.prototype, "src", void 0), s([c.Component("engine.shape"), a("design:paramtypes", [String])], e) }(l); t.OBJShape = g; var _ = function (n) { function e(e) { var t = n.call(this) || this; return t.uuid = r.uuid(), t.callback = e, t } return o(e, n), e.prototype.toJSON = function () { return this.uuid }, s([c.ProxyComponent.readonly, a("design:type", String)], e.prototype, "uuid", void 0), s([c.ProxyComponent.field, a("design:type", Function)], e.prototype, "callback", void 0), s([c.Component("engine.onClick"), a("design:paramtypes", [Function])], e) }(c.ProxyComponent); t.OnClick = _ }, function (e, t, n) { "use strict"; var i, r = this && this.__extends || (i = function (e, t) { return (i = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (e, t) { e.__proto__ = t } || function (e, t) { for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]) })(e, t) }, function (e, t) { function n() { this.constructor = e } i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n) }); Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(3), s = n(6), a = n(5), c = function (e) { function t() { return e.call(this, s.OnClick) || this } return r(t, e), t.prototype.activate = function (e) { e.eventManager.addListener(a.UUIDEvent, this, this.handleEvent) }, t.prototype.handleEvent = function (e) { for (var t in this.entities) { var n = this.entities[t].getOrNull(s.OnClick); n && n.uuid === e.uuid && n.callback(e.payload) } }, t }(o.ComponentSystem); t.OnClickSystem = c }, function (e, n, t) { "use strict"; function i(e) { for (var t in e) n.hasOwnProperty(t) || (n[t] = e[t]) } Object.defineProperty(n, "__esModule", { value: !0 }), i(t(0)), i(t(1)), i(t(3)), i(t(2)), i(t(6)), i(t(7)), i(t(5)); var r = t(7), o = t(9), s = new (t(0).Engine); n.engine = s; var a = new r.OnClickSystem; n.onClickSystem = a, s.addSystem(a), "undefined" != typeof dcl && s.addSystem(new o.DecentralandSynchronizationSystem(dcl)) }, function (e, t, n) { "use strict"; var i, r = this && this.__extends || (i = function (e, t) { return (i = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (e, t) { e.__proto__ = t } || function (e, t) { for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]) })(e, t) }, function (e, t) { function n() { this.constructor = e } i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n) }); Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(3), s = n(0), a = n(2), c = n(5), u = function (n) { function e(e) { var t = n.call(this) || this; return t.dcl = e, t.cachedComponents = {}, t } return r(e, n), e.prototype.activate = function (n) { var t = this; n.eventManager.addListener(a.ComponentAdded, this, this.componentAdded), n.eventManager.addListener(a.ComponentRemoved, this, this.componentRemoved); var e = n.rootEntity.engineId; null !== e && this.dcl.addEntity(e), this.dcl.subscribe("uuidEvent"), this.dcl.onUpdate(function (e) { n.update(e), t.presentEntities() }), this.dcl.onEvent(function (e) { switch (e.type) { case "uuidEvent": var t = new c.UUIDEvent; t.uuid = e.data.uuid, t.payload = e.data.payload, n.eventManager.fireEvent(t); break; default: n.eventManager.fireEvent(new s.EngineEvent(e)) } }) }, e.prototype.onAddEntity = function (e) { var t = e.engineId; t && (this.dcl.addEntity(t), e.parent && null !== e.parent.engineId && this.dcl.setParent(t, e.parent.engineId), this.dcl.updateEntity(t, JSON.parse(JSON.stringify(e.components)))) }, e.prototype.onRemoveEntity = function (e) { var t = e.engineId; t && (delete this.cachedComponents[t], this.dcl.removeEntity(t)) }, e.prototype.presentEntities = function () { for (var e in this.entities) { var t = this.entities[e], n = t.engineId; if (n) { var i = JSON.stringify(t.components); this.cachedComponents[n] !== i && (this.cachedComponents[n] = i, this.dcl.updateEntity(n, JSON.parse(i))) } } }, e.prototype.componentAdded = function (e) { var t = e.entity, n = e.componentName; t.engineId && this.dcl.componentAdded(t.engineId, n, JSON.parse(JSON.stringify(t.get(n)))) }, e.prototype.componentRemoved = function (e) { var t = e.entity, n = e.componentName; t.engineId && this.dcl.componentRemoved(t.engineId, n) }, e }(o.System); t.DecentralandSynchronizationSystem = u }]) }), function (e) { "use strict"; var a = [], c = { baseUrl: "" }, u = {}; function t(o, e, s) { var t = arguments.length; 1 === t ? (s = o, e = ["require", "exports", "module"], o = null) : 2 === t && ("[object Array]" === c.toString.call(o) ? (s = e, e = o, o = null) : (s = e, e = ["require", "exports", "module"])), o ? p(e, function () { var e, t, n; u[o] && (e = u[o].handlers, t = u[o].context), (n = u[o] = "function" == typeof s ? s.apply(null, a.slice.call(arguments, 0)) || u[o] || {} : s).dclamd = 2, n.context = t; for (var i = 0, r = e ? e.length : 0; i < r; i++)e[i](n) }, o) : a.push([e, s]) } function p(e, n, i) { var r = [], o = 0, s = !1; if ("string" == typeof e) { if (u[e] && 2 === u[e].dclamd) return u[e]; throw new Error(e + " has not been defined. Please include it as a dependency in " + i + "'s define()") } for (var a = e.length, t = 0; t < a; t++)switch (e[t]) { case "require": var c = function (e, t) { return p(e, t, i) }; c.toUrl = function (e) { return d(e, i) }, r[t] = c, o++; break; case "exports": r[t] = u[i] || (u[i] = {}), o++; break; case "module": r[t] = { id: i, uri: d(i) }, o++; break; case u[i] ? u[i].context : "": r[t] = u[u[i].context], o++; break; default: !function (t) { f(e[t], function (e) { r[t] = e, ++o === a && n && (s = !0, n.apply(null, r)) }, i) }(t) }!s && o === a && n && n.apply(null, r) } function f(e, t, n) { e = n ? d(e, n) : e, u[e] ? 1 === u[e].dclamd ? t && u[e].handlers.push(t) : t && t(u[e]) : u[e] = { dclamd: 1, handlers: [t], context: n } } function d(e, t) { var n, i, r; switch (e) { case "require": case "exports": case "module": return e }for ((n = (t || c.baseUrl).split("/")).pop(), i = (e = e.split("/")).length; --i;)switch (e[0]) { case "..": n.pop(); case ".": case "": e.shift(), r = !0 }return (n.length && r ? n.join("/") + "/" : "") + e.join("/") } t.amd = {}, p.toUrl = d, e.dclamd = { config: function (e) { if ("object" == typeof e) for (var t in e) e.hasOwnProperty(t) && (c[t] = e[t]) }, define: e.define = t, require: p, exports: u } }(this); var __extends = this && this.__extends || function () { var i = function (e, t) { return (i = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (e, t) { e.__proto__ = t } || function (e, t) { for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]) })(e, t) }; return function (e, t) { function n() { this.constructor = e } i(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n) } }(); define("game", ["require", "exports"], function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n, i, r, o, s = function (e) { function t() { return e.call(this, Rotation) || this } return __extends(t, e), t.prototype.update = function (e) { for (var t in this.entities) { this.entities[t].get(Rotation).y += 10 * e } }, t }(ComponentSystem); t.RotatorSystem = s, i = 0, r = n = 5, (o = new Entity).set(new Position(n, i, r)), o.set(new BoxShape), o.set(new Rotation(0, 0, 0)), engine.addEntity(o), engine.addSystem(new s) });
        }
    </script>
    <script>
        var gameInstance = UnityLoader.instantiate("gameContainer", "%UNITY_WEBGL_BUILD_URL%");
    </script>
</head>

<body>
    <div id="gameContainer" style="width: 960px; height: 600px; margin: auto"></div>
</body>

</html>